/*!
 * ToastE-Notifier v1.0.0-alpha4
 * (c) 2022-2022 Jacob Darker
 * Released under the MIT License.
 */
!function (t) { "function" == typeof define && define.amd ? define(t) : t() }((function () {
     "use strict";
/*!
     * ToastE-Notifier v1.0.0-alpha4
     * (c) 2022-2022 Jacob Darker
     * Released under the MIT License.
     */var t; t = function () {
          function t(e) { return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(e) }
/*!
       * ToastE-Notifier v1.0.0-alpha4
       * (c) 2022-2022 Jacob Darker
       * Released under the MIT License.
       */var e, o; e = void 0, o = function () { function e(t) { return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function n(t, e) { for (var o = 0; o < e.length; o++) { var n = e[o]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } function i(t, e, o) { return e && n(t.prototype, e), o && n(t, o), Object.defineProperty(t, "prototype", { writable: !1 }), t } function s(t, e, o) { return e in t ? Object.defineProperty(t, e, { value: o, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = o, t } function a(t) { return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) })(t) } function r(t, e) { return (r = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t })(t, e) } function l(e, o) { if (o && ("object" === t(o) || "function" == typeof o)) return o; if (void 0 !== o) throw new TypeError("Derived constructors may only return object or undefined"); return function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(e) } function c(t) { var e = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (t) { return !1 } }(); return function () { var o, n = a(t); if (e) { var i = a(this).constructor; o = Reflect.construct(n, arguments, i) } else o = n.apply(this, arguments); return l(this, o) } } function u(t, e) { (null == e || e > t.length) && (e = t.length); for (var o = 0, n = new Array(e); o < e; o++)n[o] = t[o]; return n } function h(t, e) { var o = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!o) { if (Array.isArray(t) || (o = function (t, e) { if (t) { if ("string" == typeof t) return u(t, e); var o = Object.prototype.toString.call(t).slice(8, -1); return "Object" === o && t.constructor && (o = t.constructor.name), "Map" === o || "Set" === o ? Array.from(t) : "Arguments" === o || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o) ? u(t, e) : void 0 } }(t)) || e && t && "number" == typeof t.length) { o && (t = o); var n = 0, i = function () { }; return { s: i, n: function () { return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] } }, e: function (t) { throw t }, f: i } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var s, a = !0, r = !1; return { s: function () { o = o.call(t) }, n: function () { var t = o.next(); return a = t.done, t }, e: function (t) { r = !0, s = t }, f: function () { try { a || null == o.return || o.return() } finally { if (r) throw s } } } } var p, d, f = i((function t() { o(this, t), this.endStyle = {}, this.startStyle = {}, this.currentStyle = {}, this.duration = 400, this.frameRate = 16, this.classes = {}, this.currentClasses = [], this.endClasses = [], this.startClasses = [], this.tickTimeout = null, this.reverse = !1, this.onAnimationEnd = void 0, this.onAnimationStart = void 0, this.onAnimationTick = void 0 })), y = function () { function t(e) { o(this, t), this.target = e, this.options = new f } return i(t, [{ key: "start", value: function () { return this._applyStyles(this.target, this.options.startStyle), this._applyClasses(this.target, this.options.classes.startClassList), !1 } }, { key: "stop", value: function () { return window.clearTimeout(this.options._tickHandler), !1 } }, { key: "reset", value: function () { return this._applyStyles(this.target, this.options.startStyle), this._applyClasses(this.target, this.options.classes.endClassList), !1 } }, { key: "pause", value: function () { return this.options.tickHandler && window.clearTimeout(this.options.tickHandler), !1 } }, { key: "resume", value: function () { return !1 } }, { key: "reverse", value: function () { return this._applyStyles(this.target, this.options.endStyles), this._applyClasses(this.target, this.options.classes.endClassList), !1 } }, { key: "_applyStyles", value: function (t, e) { for (var o in e) t.style[o] = e[o] } }, { key: "_applyClasses", value: function (t, e) { for (var o in e) t.classList.contains(o) || t.classList.add(o) } }]), t }(), v = function () { function t() { o(this, t) } return i(t, null, [{ key: "bind", value: function (t, e) { return function () { return t.apply(e, arguments) } } }, { key: "isObject", value: function (t) { return t && "object" === e(t) && !Array.isArray(t) && null != t } }, { key: "extend", value: function (e, o) { "function" != typeof Object.assign && (Object.assign = function (t) { if (null == t) throw new TypeError("Cannot convert undefined or null to object"); for (var e = Object(t), o = 1; o < arguments.length; o++) { var n = arguments[o]; if (null != n) for (var i in n) n.hasOwnProperty(i) && (e[i] = n[i]) } return e }); var n = Object.assign({}, e); return t.isObject(e) && t.isObject(o) && Object.keys(o).forEach((function (i) { t.isObject(o[i]) && i in e ? n[i] = t.extend(e[i], o[i]) : Object.assign(n, s({}, i, o[i])) })), n } }]), t }(), m = function (t) { !function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && r(t, e) }(n, t); var e = c(n); function n(t, i) { var s; return o(this, n), (s = e.call(this, t)).options.startStyle = { opacity: 0 }, s.options.endStyle = { opacity: 1 }, s.options = v.extend(i, s.options), s._last = +new Date, s } return i(n, [{ key: "play", value: function () { var t; this.options.reverse ? (this._applyStyles(this.target, this.options.endStyle), this._applyClasses(this.target, this.options.endClasses)) : (this._applyStyles(this.target, this.options.startStyle), this._applyClasses(this.target, this.options.startClasses)), null === (t = this.onAnimationStart) || void 0 === t || t.call(), this._last = +new Date, this._tick() } }, { key: "reverse", value: function () { this.options.reverse = !this.options.reverse, this.play() } }, { key: "_tick", value: function () { var t; this.target.style.opacity = +this.target.style.opacity + (new Date - this._last) / this.options.duration, this._last = +new Date, +this.target.style.opacity < 1 ? (null === (t = this.onAnimationTick) || void 0 === t || t.call(), this.tickTimeout = setTimeout(v.bind(this._tick, this), this.options.frameRate)) : this.onAnimationEnd && this.onAnimationEnd.call() } }], [{ key: "fadeElement", value: function (t, e) { return new n(t, e) } }]), n }(y); function b(t, e) { t.style.display = "", t.style.opacity = e, p = +new Date } function E(t, e, o) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null; o = o.toUpperCase() || "UP", t.setAttribute("data-direction", o), t.classList.add("expand"), "UP" !== o && "DOWN" !== o || g(t, e, n) } function w(t, e, o) { var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null; o = o.toUpperCase(), t.getAttribute("data-direction") || t.setAttribute("data-direction", o), t.style.setProperty("--transition-duration", e + "ms"), "UP" !== o && "DOWN" !== o || _(t, e, n) } function g(t, e) { var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; t.style.height = "0px", t.classList.add("is-visible"), d = function (t) { t.target.removeEventListener("transitionend", d), o && o.call() }, t.addEventListener("transitionend", d); var n = C(t); window.setTimeout(k, 0, n) } function _(t, e) { var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; t.style.height = "0px", d = function (t) { t.target.removeEventListener("transitionend", d), t.target.classList.remove("is-visible"), o && o.call() }, t.addEventListener("transitionend", d) } function k(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; for (var o in e) t.style[o] = e[o] } function C(t) { var e = {}; return t.style.display = "block", e.width = function (t) { return getComputedStyle(t).width }(t), e.height = function (t) { return getComputedStyle(t).height }(t), e.borderWidth = function (t) { return getComputedStyle(t).borderWidth }(t), e.margin = function (t) { return getComputedStyle(t).margin }(t), e.padding = function (t) { return getComputedStyle(t).padding }(t), t.style.display = "", e } var S = i((function t() { o(this, t), this.text = "", this.heading = "", this.showHideTransition = "fade", this.allowToastClose = !0, this.hideAfter = 3e3, this.loader = !0, this.loaderBg = "#9EC600", this.stack = 5, this.position = "bottom-left", this.bgColor = !1, this.textColor = !1, this.textAlign = "left", this.icon = !1, this.beforeShow = function () { }, this.afterShown = function () { }, this.beforeHide = function () { }, this.afterHide = function () { }, this.onClick = function () { } })), T = ["bottom-left", "bottom-right", "top-right", "top-left", "bottom-center", "top-center", "mid-center"], A = ["success", "error", "info", "warning"], x = function () { function t() { o(this, t) } return i(t, [{ key: "init", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new S; this.prepareOptions(t, new S), this.process() } }, { key: "prepareOptions", value: function (t, e) { var o = {}; "string" == typeof t || t instanceof Array ? o.text = t : o = t, this.options = v.extend(e, o) } }, { key: "process", value: function () { this.setup(), this.addToDom(), this.position(), this.bindToast(), this.animate() } }, { key: "setup", value: function () { var t = document.createElement("div"); t.className = "toaste-single", this._toastEl = this._toastEl || t; var e = document.createElement("span"); if (e.className = "toaste-loader", this._toastEl.appendChild(e), this.options.allowToastClose) { var o = document.createElement("span"); o.className = "toaste-close", this._toastEl.appendChild(o) } if (this.options.heading) { var n = document.createElement("h2"); n.className = "toaste-heading", n.innerText = this.options.heading, this._toastEl.appendChild(n) } this.generateToastText(), this.setToastElementStyles() } }, { key: "generateToastText", value: function () { if (this.options.text instanceof Array) { var t = document.createElement("ul"); t.className = "toaste-ul"; for (var e = 0; e < this.options.text.length; e++) { var o = document.createElement("li"); o.className = "toaste-li", o.id = "toaste-item-".concat(e), o.innerText = this.options.text[e], t.appendChild(o) } this._toastEl.appendChild(t) } else { var n = document.createElement("span"); n.innerText = this.options.text, this._toastEl.appendChild(n) } } }, { key: "setToastElementStyles", value: function () { !1 !== this.options.bgColor && (this._toastEl.style.backgroundColor = this.options.bgColor), !1 !== this.options.textColor && (this._toastEl.style.color = this.options.textColor), this.options.textAlign && (this._toastEl.style.textAlign = this.options.textAlign), this.options.icon && (this._toastEl.classList.add("toaste-has-icon"), this.options.icon && A.includes(this.options.icon) && this._toastEl.classList.add("toaste-icon-".concat(this.options.icon))), this.options.class && this._toastEl.classList.add(this.options.class) } }, { key: "position", value: function () { if ("string" == typeof this.options.position && T.indexOf(this.options.position) > -1) { var t = this._container.getBoundingClientRect(); switch (this.options.position) { case "bottom-center": this._container.style.left = "".concat(window.outerWidth / 2 - t.width / 2, "px"), this._container.style.bottom = "20px"; break; case "top-center": this._container.style.left = "".concat(window.outerWidth / 2 - t.width / 2, "px"), this._container.style.top = "20px"; break; case "mid-center": this._container.style.left = "".concat(window.outerWidth / 2 - t.width / 2, "px"), this._container.style.bottom = "".concat(window.outerHeight / 2 - t.height / 2, "px"); break; default: this._container.classList.add(this.options.position) } } else if ("object" === e(this.options.position)) for (var o in this._container.style.top = "auto", this._container.style.right = "auto", this._container.style.bottom = "auto", this._container.style.left = "auto", this.options.position) isNaN(Number.parseFloat(this.options.position[o])) ? this._container.style.setProperty(o, this.options.position[o]) : this._container.style.setProperty(o, this.options.position[o] + "px"); else this._container.classList.add("bottom-left") } }, { key: "bindToast", value: function () { var t = this; this._toastEl.addEventListener("toast.on.shown", (function () { t.processLoader() })), this._toastEl.querySelector("span.toaste-close").addEventListener("click", t.closeToast.bind(t, t)), "function" == typeof this.options.beforeShow && this._toastEl.addEventListener("toast.on.show", t.options.beforeShow(t._toastEl)), "function" == typeof this.options.afterShown && this._toastEl.addEventListener("toast.on.shown", t.options.afterShown(t._toastEl)), "function" == typeof this.options.beforeHide && this._toastEl.addEventListener("toast.on.hide", t.options.beforeHide(t._toastEl)), "function" == typeof this.options.afterHidden && this._toastEl.addEventListener("toast.on.hidden", t.options.afterHidden(t._toastEl)), "function" == typeof this.options.onClick && this._toastEl.addEventListener("click", t.options.onClick(t._toastEl)) } }, { key: "addToDom", value: function () { var t, e = document.querySelector(".toaste-wrap"); if (e) { if (!this.options.stack || isNaN(parseInt(this.options.stack, 10))) for (var o in e.children) e.removeChild(o) } else (e = document.createElement("div")).className = "toaste-wrap", e.setAttribute("role", "alert"), e.setAttribute("aria-live", "polite"), document.body.appendChild(e); if ((t = e.querySelectorAll(".toaste-single[hidden]")) && t.forEach((function (t) { e.removeChild(t) })), e.appendChild(this._toastEl), this.options.stack && !isNaN(parseInt(this.options.stack), 10)) { var n = e.querySelectorAll(".toaste-single").length - this.options.stack; if (n > 0) { var i, s = h(t = Array.from(e.querySelectorAll(".toaste-single").values()).slice(0, n)); try { for (s.s(); !(i = s.n()).done;) { var a = i.value; e.removeChild(a) } } catch (t) { s.e(t) } finally { s.f() } } } this._container = e } }, { key: "canAutoHide", value: function () { return !1 !== this.options.hideAfter && !isNaN(parseInt(this.options.hideAfter, 10)) } }, { key: "processLoader", value: function () { if (!this.canAutoHide() || !1 === this.options.loader) return !1; var t = this._toastEl.querySelector(".toaste-loader"), e = (this.options.hideAfter - 400) / 1e3 + "s", o = this.options.loaderBg || ""; t.style.setProperty("--toaste-transition-duration", e), o && t.style.setProperty("--toaste-loader-bg", this.options.loaderBg), t.classList.add("toaste-loaded") } }, { key: "animate", value: function () { var t = this, e = new CustomEvent("toaste.on.show"), o = function () { var e = new CustomEvent("toast.on.shown"); t._toastEl.dispatchEvent(e) }; if (this._toastEl.style.display = "none", this._toastEl.dispatchEvent(e), "fade" === this.options.showHideTransition.toLowerCase()) { var n = new f; n.startStyle = { opacity: 0 }, n.endStyle = { opacity: 1 }, m.fadeElement(this._toastEl, n) } else "slide" === this.options.showHideTransition.toLowerCase() ? E(this._toastEl, 400, "UP", o) : E(this._toastEl, 400, "RIGHT", o); this.canAutoHide() && (this.autoCloseTimeout = window.setTimeout(this.closeToast.bind(this, t), +this.options.hideAfter)) } }, { key: "reset", value: function () { var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]; t ? document.querySelectorAll(".toaste-wrap").forEach((function (t) { return t.remove() })) : (this._toastEl.parentElement.removeChild(this._toastEl), this._toastEl = null) } }, { key: "update", value: function (t) { this.prepareOptions(t, this.options), this.setup(), this.bindToast() } }, { key: "closeToast", value: function (t, e) { e && e.preventDefault(); var o = function () { t._toastEl.style.display = "none"; var e = new CustomEvent("toast.on.hidden"); t._toastEl.dispatchEvent(e), t.autoCloseTimeout && window.clearTimeout(t.autoCloseTimeout) }, n = new CustomEvent("toast.on.hide"); t._toastEl.dispatchEvent(n), "fade" === t.options.showHideTransition ? function (t, e) { var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; b(t, 1), function n() { t.style.opacity = +t.style.opacity - (new Date - p) / e, p = +new Date, +t.style.opacity > 0 ? window.requestAnimationFrame && requestAnimationFrame(n) || setTimeout(n, 16) : (t.hidden = !0, o && o.call()) }() }(t._toastEl, 400, o) : "slide" === t.options.showHideTransition ? w(t._toastEl, 400, "DOWN", o) : w(t._toastEl, 400, "LEFT", o) } }]), t }(), O = function () { function t(e) { o(this, t), this.toastE = new x, this.toastE.init(e) } return i(t, [{ key: "reset", value: function (t) { this.toastE.reset(t) } }, { key: "update", value: function (t) { this.toastE.update(t) } }, { key: "close", value: function () { this.toastE.close() } }]), t }(); return "undefined" != typeof window && (window.ToastENotifier = O, window.fadeElement = m.fadeElement), O }, "object" === ("undefined" == typeof exports ? "undefined" : t(exports)) && "undefined" != typeof module ? module.exports = o() : "function" == typeof define && define.amd ? define(o) : (e = "undefined" != typeof globalThis ? globalThis : e || self)["ToastE-Notifier"] = o()
     }, "function" == typeof define && define.amd ? define(t) : t()
}));
